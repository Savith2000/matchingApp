<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matching App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"
  ></script>
    
    <div  class="container" style="text-align: center;" id="header">
        
    </div>

    <style>
        #header{
            background-color:  #A71A23 ;
            border-radius: 15px;
            width: 80%;
            
           
        }
        
        
    </style>
</head>
<body>
    <div class="container" style="border-radius: 20px;" id="display">
    <div class="card" style="background-color:  #A71A23">
        <div class="card-body" style="background-color:  #A71A23;">
            <h1 id="h1" style="color:white; margin-left: 28%;font-size: 80px;">
                Matching App
            </h1>
            <div class="row">
                <div class="col-md-12">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;text-align: center;">Please Enter Your Name Here?</h1>
                         <input placeholder="Input Your Name Here" style="width: 100%;" id="name"></input>
                        </div>
                      </div>
                      
                </div>
               
                
            </div>
          
            <div class="row">
                <div class="col-md-6" >
                    <div class="card" style="background-color: #F76F73 ;margin: 2%;border-radius: 20px;">
                        <div class="card-body"  >
                        <h1 style="color: white;">Do You Like Spiderman Homecoming?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number1"></input>
                        </div>
                      </div>
                      
                </div>
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Iron Man Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number2"></input>
                        </div>
                      </div>
                      
                </div>
                
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Thor Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number3"></input>
                        </div>
                      </div>
                      
                </div>
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Captain America Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number4"></input>
                        </div>
                      </div>
                      
                </div>
                
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Guardian of the Galaxy Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number5"></input>
                        </div>
                      </div>
                      
                </div>
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Doctor Strange Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number6"></input>
                        </div>
                      </div>
                      
                </div>
                
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Avengers Movie?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number7"></input>
                        </div>
                      </div>
                      
                </div>
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like the Captain America Civil War?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number8"></input>
                        </div>
                      </div>
                      
                </div>
                
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like Avengers Infinity War?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number9"></input>
                        </div>
                      </div>
                      
                </div>
                <div class="col-md-6">
                    <div class="card" style="background-color: #F76F73;margin: 2%;border-radius: 20px;">
                        <div class="card-body" >
                        <h1 style="color: white;">Do You Like Avengers Endgame?</h1>
                         <input placeholder="Enter your Answer Here" style="width: 100%;" id="number10"></input>
                        </div>
                      </div>
                      
                </div>
                
            </div>

            <div class="row">
                <div class="col-md-12">
                    <button type="button" class="btn btn-dark" id="button" style=" width: 100%;">Click Here To Find Your Ideal Match</button>

                </div>
                
            </div>


        </div>
      </div>
    </div>
    <script type="text/javascript">

    



    $("#button").on("click", function(event) {

    
    

    

   
    event.preventDefault();
    var newUser = {
      name: $("#name").val().trim(),
      number1: $("#number1").val().trim(),
      number2: $("#number2").val().trim(),
      number3: $("#number3").val().trim(),
      number4: $("#number4").val().trim(),
      number5: $("#number5").val().trim(),
      number6: $("#number6").val().trim(),
      number7: $("#number7").val().trim(),
      number8: $("#number8").val().trim(),
      number9: $("#number9").val().trim(),
      number10:$("#number10").val().trim(),




    };

   
    
   $.get("/user",function(data){
       var answer = 0;
       var arr = []
       var names = []
       
       for(i=0;i<data.length;i++){
          answer =  newUser.number1 - data[i].number1;
          answer2 =  newUser.number2 - data[i].number2;
          answer3 =  newUser.number3 - data[i].number3;
          answer4 =  newUser.number4 - data[i].number4;
          answer5 =  newUser.number5 - data[i].number5;
          answer6 =  newUser.number6 - data[i].number6;
          answer7 =  newUser.number7 - data[i].number7;
          answer8 =  newUser.number8 - data[i].number8;
          answer9 =  newUser.number9 - data[i].number9;
          answer10 =  newUser.number10 - data[i].number10;
          newAnswer = Math.abs(answer);
          newAnswer2 = Math.abs(answer2);
          newAnswer3 = Math.abs(answer3);
          newAnswer4 = Math.abs(answer4);
          newAnswer5 = Math.abs(answer5);
          newAnswer6 = Math.abs(answer6);
          newAnswer7 = Math.abs(answer7);
          newAnswer8 = Math.abs(answer8);
          newAnswer9 = Math.abs(answer9);
          newAnswer10 = Math.abs(answer10);
          
          finalAnswer = newAnswer10 + newAnswer2 + newAnswer3 + newAnswer4 + newAnswer5 + newAnswer6 + newAnswer7 + newAnswer8 + newAnswer9 + newAnswer;
          
          names.push(data[i].name);
          arr.push(finalAnswer);
        
              }
              finalFinalAnswer = Math.min.apply(null,arr)
              var position = arr.indexOf(finalFinalAnswer);
              console.log(names[position]);

           

              $("#display").append(`<div class="card" style="position:absolute; top:80%;left:23%;border-radius:20px" id="second"  width: min-content;>
                                    <div class="card-body" id="secondCard">
                                       
                                        <button type="button" class="close" aria-label="Close" style="margin-left:95%;background-color:#fce043 ">
                                        <span aria-hidden="true" style="background-color:#fce043">&times;</span>
                                        </button>
                                        
                                       <h1 style="font-size:100px;color:hot pink">You Ideal Match Is</h1>
                                       <hr>
                                       <div><h2 style="text-align:center;font-size:80px;color:hot pink">${names[position]}</h2></div>
                                    </div>
                                    </div>`);
                                    $(document).on("click",function(){
                                    $("#secondCard").parent().remove();
                                    })
   
                                   
              
              
                                    });
                                     


    $.post("/user", newUser)

    // Question: What does this code do??
   

});
let clear = document.querySelector("button");
    let inputs = document.querySelectorAll("input");
    clear.addEventListener("click",() =>{

        inputs.forEach(input => input.value="")

    });
  </script>

    <style>
        #header{
            background-color:  #A71A23 ;
            border-radius: 10px;
            width: 80%;
            
           
        }
        body{
        background-color: #bd4f6c;
        background-image:linear-gradient(326deg, #bd4f6c 0%, #d7816a 74%);

        }

        .btn {
            background-color: red;
            color: #fff;
            font-size: 20px;
            font-weight: 800;
            text-transform: uppercase;
            position: relative;
            border-radius: 8px !important;
            border: none;
            transition:all 0.3s ease 0s;
        }
        .btn:hover,
        .btn.active:hover{
            color: #ffffff;
        }
        .btn:before{
            content: "";
            position: absolute;
            top: -7px;
            left: 0;
            background-color:white;
            width: 30%;
            height: 4px;
            transition:all 0.3s ease 0s;
        }
        .btn:after{
            content: "";
            position: absolute;
            bottom: -7px;
            right: 0;
            background-color:white;
            width: 30%;
            height: 4px;
            transition:all 0.3s ease 0s;
        }
        .btn:hover:before,
        .btn:hover:after,
        .btn.active:before,
        .btn.active:after{
            width: 100%;
        }

       #second{
        background-color: #fce043;
        background-image: linear-gradient(315deg, #fce043 0%, #fb7ba2 74%);
       }
        
        
    </style>
   
    
</body>
</html>